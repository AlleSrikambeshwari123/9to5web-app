'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var fonts = {
    Courier: {
        normal: 'Courier',
        bold: 'Courier-Bold',
        italics: 'Courier-Oblique',
        bolditalics: 'Courier-BoldOblique'
    },
    Helvetica: {
        normal: 'Helvetica',
        bold: 'Helvetica-Bold',
        italics: 'Helvetica-Oblique',
        bolditalics: 'Helvetica-BoldOblique'
    },
    Times: {
        normal: 'Times-Roman',
        bold: 'Times-Bold',
        italics: 'Times-Italic',
        bolditalics: 'Times-BoldItalic'
    },
    Symbol: {
        normal: 'Symbol'
    },
    ZapfDingbats: {
        normal: 'ZapfDingbats'
    }
};
var PdfPrinter = require('pdfmake');
var printer = new PdfPrinter(fonts);
var fs = require('fs');
var bwipjs = require('bwip-js');
Number.prototype.formatMoney = function (c, d, t) {
    var n = this,
        c = isNaN(c = Math.abs(c)) ? 2 : c,
        d = d == undefined ? "." : d,
        t = t == undefined ? "," : t,
        s = n < 0 ? "-" : "",
        i = String(parseInt(n = Math.abs(Number(n) || 0).toFixed(c))),
        j = (j = i.length) > 3 ? j % 3 : 0;
    return "" + s + (j ? i.substr(0, j) + t : "") + i.substr(j).replace(/(\d{3})(?=\d)/g, "1" + t) + (c ? d + Math.abs(n - i).toFixed(c).slice(2) : "");
};

var FlightLoadSheet = exports.FlightLoadSheet = function () {
    function FlightLoadSheet() {
        _classCallCheck(this, FlightLoadSheet);
    }

    _createClass(FlightLoadSheet, [{
        key: 'generateManifestLoadSheet',
        value: function generateManifestLoadSheet(manifest) {
            var _this = this;

            return new Promise(function (resolve, reject) {
                var srv = _this;
                var docDefinition = {
                    footer: srv.generateFooter(),

                    content: [{
                        stack: [{ text: "NINE TO FIVE IMPORT EXPORT", bold: true, fontSize: 11, alignment: center }, { text: "1811 N.W. 51 Street Hanger 42 D", bold: true, fontSize: 9, alignment: center }, { text: "Ft. Lauderale, Florida 33309", bold: true, fontSize: 9, alignment: center }, { text: "FLIGHT LOAD SHEET", bold: true, fontSize: 11, alignment: center }]
                    }, {
                        table: {
                            headerRows: 0,
                            alignment: center,

                            widths: ['*', '*'],
                            body: [[{ text: "For Shipment", fontSize: 9 }, { text: mainfest.tailNum, fontSize: 9 }]]
                        }
                    }, {
                        table: {
                            headerRows: 0,
                            alignment: center,

                            widths: ['*', '*', '*', '*'],
                            body: [[{ text: 'Departure Date', fontSize: 8 }, { text: manifest.shipDate, fontSize: 8 }, { text: 'Departure Time', fontSize: 8 }, { text: manifest.shipDate, fontSize: 8 }], [{ text: 'Carrier', fontSize: 8 }, { text: manifest.plane.company, fontSize: 8 }, { text: 'Airline Flight#', fontSize: 8 }, { text: manifest.tailNum, fontSize: 8 }]]
                        }
                    }, {
                        stack: [{ text: "Flight Notes:", fontSize: 9, bold: true }]
                    }]
                };

                var pdfDoc = printer.createPdfKitDocument(docDefinition);
                pdfDoc.pipe(fs.createWriteStream(manifest.id + '-load-heet.pdf'));
                pdfDoc.end();
            });
        }
    }, {
        key: 'generateHeader',
        value: function generateHeader() {}
    }, {
        key: 'generateFooter',
        value: function generateFooter(currentPage, pageCount) {
            return { text: "Page No: " + currentPage.toString() + '/' + pageCount, alignment: 'right', margin: [50, 10] };
        }
    }]);

    return FlightLoadSheet;
}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlV0aWwvRmxpZ2h0TG9hZFNoZWV0LmVzNiJdLCJuYW1lcyI6WyJmb250cyIsIkNvdXJpZXIiLCJub3JtYWwiLCJib2xkIiwiaXRhbGljcyIsImJvbGRpdGFsaWNzIiwiSGVsdmV0aWNhIiwiVGltZXMiLCJTeW1ib2wiLCJaYXBmRGluZ2JhdHMiLCJQZGZQcmludGVyIiwicmVxdWlyZSIsInByaW50ZXIiLCJmcyIsImJ3aXBqcyIsIk51bWJlciIsInByb3RvdHlwZSIsImZvcm1hdE1vbmV5IiwiYyIsImQiLCJ0IiwibiIsImlzTmFOIiwiTWF0aCIsImFicyIsInVuZGVmaW5lZCIsInMiLCJpIiwiU3RyaW5nIiwicGFyc2VJbnQiLCJ0b0ZpeGVkIiwiaiIsImxlbmd0aCIsInN1YnN0ciIsInJlcGxhY2UiLCJzbGljZSIsIkZsaWdodExvYWRTaGVldCIsIm1hbmlmZXN0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzcnYiLCJkb2NEZWZpbml0aW9uIiwiZm9vdGVyIiwiZ2VuZXJhdGVGb290ZXIiLCJjb250ZW50Iiwic3RhY2siLCJ0ZXh0IiwiZm9udFNpemUiLCJhbGlnbm1lbnQiLCJjZW50ZXIiLCJ0YWJsZSIsImhlYWRlclJvd3MiLCJ3aWR0aHMiLCJib2R5IiwibWFpbmZlc3QiLCJ0YWlsTnVtIiwic2hpcERhdGUiLCJwbGFuZSIsImNvbXBhbnkiLCJwZGZEb2MiLCJjcmVhdGVQZGZLaXREb2N1bWVudCIsInBpcGUiLCJjcmVhdGVXcml0ZVN0cmVhbSIsImlkIiwiZW5kIiwiY3VycmVudFBhZ2UiLCJwYWdlQ291bnQiLCJ0b1N0cmluZyIsIm1hcmdpbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLElBQUlBLFFBQVE7QUFDUkMsYUFBUztBQUNQQyxnQkFBUSxTQUREO0FBRVBDLGNBQU0sY0FGQztBQUdQQyxpQkFBUyxpQkFIRjtBQUlQQyxxQkFBYTtBQUpOLEtBREQ7QUFPUkMsZUFBVztBQUNUSixnQkFBUSxXQURDO0FBRVRDLGNBQU0sZ0JBRkc7QUFHVEMsaUJBQVMsbUJBSEE7QUFJVEMscUJBQWE7QUFKSixLQVBIO0FBYVJFLFdBQU87QUFDTEwsZ0JBQVEsYUFESDtBQUVMQyxjQUFNLFlBRkQ7QUFHTEMsaUJBQVMsY0FISjtBQUlMQyxxQkFBYTtBQUpSLEtBYkM7QUFtQlJHLFlBQVE7QUFDTk4sZ0JBQVE7QUFERixLQW5CQTtBQXNCUk8sa0JBQWM7QUFDWlAsZ0JBQVE7QUFESTtBQXRCTixDQUFaO0FBMEJDLElBQUlRLGFBQWFDLFFBQVEsU0FBUixDQUFqQjtBQUNDLElBQUlDLFVBQVUsSUFBSUYsVUFBSixDQUFlVixLQUFmLENBQWQ7QUFDQSxJQUFJYSxLQUFLRixRQUFRLElBQVIsQ0FBVDtBQUNBLElBQUlHLFNBQVNILFFBQVEsU0FBUixDQUFiO0FBQ0FJLE9BQU9DLFNBQVAsQ0FBaUJDLFdBQWpCLEdBQStCLFVBQVVDLENBQVYsRUFBYUMsQ0FBYixFQUFnQkMsQ0FBaEIsRUFBbUI7QUFDaEQsUUFBSUMsSUFBSSxJQUFSO0FBQUEsUUFDSUgsSUFBSUksTUFBTUosSUFBSUssS0FBS0MsR0FBTCxDQUFTTixDQUFULENBQVYsSUFBeUIsQ0FBekIsR0FBNkJBLENBRHJDO0FBQUEsUUFFSUMsSUFBSUEsS0FBS00sU0FBTCxHQUFpQixHQUFqQixHQUF1Qk4sQ0FGL0I7QUFBQSxRQUdJQyxJQUFJQSxLQUFLSyxTQUFMLEdBQWlCLEdBQWpCLEdBQXVCTCxDQUgvQjtBQUFBLFFBSUlNLElBQUlMLElBQUksQ0FBSixHQUFRLEdBQVIsR0FBYyxFQUp0QjtBQUFBLFFBS0lNLElBQUlDLE9BQU9DLFNBQVNSLElBQUlFLEtBQUtDLEdBQUwsQ0FBU1QsT0FBT00sQ0FBUCxLQUFhLENBQXRCLEVBQXlCUyxPQUF6QixDQUFpQ1osQ0FBakMsQ0FBYixDQUFQLENBTFI7QUFBQSxRQU1JYSxJQUFJLENBQUNBLElBQUlKLEVBQUVLLE1BQVAsSUFBaUIsQ0FBakIsR0FBcUJELElBQUksQ0FBekIsR0FBNkIsQ0FOckM7QUFPQSxXQUFPLEtBQUtMLENBQUwsSUFBVUssSUFBSUosRUFBRU0sTUFBRixDQUFTLENBQVQsRUFBWUYsQ0FBWixJQUFpQlgsQ0FBckIsR0FBeUIsRUFBbkMsSUFBeUNPLEVBQUVNLE1BQUYsQ0FBU0YsQ0FBVCxFQUFZRyxPQUFaLENBQW9CLGdCQUFwQixFQUFzQyxNQUFNZCxDQUE1QyxDQUF6QyxJQUEyRkYsSUFBSUMsSUFBSUksS0FBS0MsR0FBTCxDQUFTSCxJQUFJTSxDQUFiLEVBQWdCRyxPQUFoQixDQUF3QlosQ0FBeEIsRUFBMkJpQixLQUEzQixDQUFpQyxDQUFqQyxDQUFSLEdBQThDLEVBQXpJLENBQVA7QUFDSCxDQVRDOztJQVVXQyxlLFdBQUFBLGU7QUFDVCwrQkFBYTtBQUFBO0FBRVo7Ozs7a0RBRXlCQyxRLEVBQVM7QUFBQTs7QUFDL0IsbUJBQU8sSUFBSUMsT0FBSixDQUFZLFVBQUNDLE9BQUQsRUFBU0MsTUFBVCxFQUFrQjtBQUNqQyxvQkFBSUMsTUFBTSxLQUFWO0FBQ0Esb0JBQUlDLGdCQUFnQjtBQUNoQkMsNEJBQVFGLElBQUlHLGNBQUosRUFEUTs7QUFHaEJDLDZCQUFTLENBQ0U7QUFDSUMsK0JBQU8sQ0FDSCxFQUFDQyxNQUFLLDRCQUFOLEVBQW1DNUMsTUFBSyxJQUF4QyxFQUE2QzZDLFVBQVMsRUFBdEQsRUFBeURDLFdBQVVDLE1BQW5FLEVBREcsRUFFSCxFQUFDSCxNQUFLLGlDQUFOLEVBQXdDNUMsTUFBSyxJQUE3QyxFQUFrRDZDLFVBQVMsQ0FBM0QsRUFBNkRDLFdBQVVDLE1BQXZFLEVBRkcsRUFHSCxFQUFDSCxNQUFLLDhCQUFOLEVBQXFDNUMsTUFBSyxJQUExQyxFQUErQzZDLFVBQVMsQ0FBeEQsRUFBMERDLFdBQVVDLE1BQXBFLEVBSEcsRUFJSCxFQUFDSCxNQUFLLG1CQUFOLEVBQTBCNUMsTUFBSyxJQUEvQixFQUFvQzZDLFVBQVMsRUFBN0MsRUFBZ0RDLFdBQVVDLE1BQTFELEVBSkc7QUFEWCxxQkFERixFQVNFO0FBQ0NDLCtCQUFNO0FBQ0ZDLHdDQUFXLENBRFQ7QUFFRkgsdUNBQVVDLE1BRlI7O0FBSUZHLG9DQUFPLENBQUMsR0FBRCxFQUFLLEdBQUwsQ0FKTDtBQUtGQyxrQ0FBSyxDQUNELENBQUMsRUFBQ1AsTUFBSyxjQUFOLEVBQXFCQyxVQUFTLENBQTlCLEVBQUQsRUFDQSxFQUFDRCxNQUFLUSxTQUFTQyxPQUFmLEVBQXVCUixVQUFTLENBQWhDLEVBREEsQ0FEQztBQUxIO0FBRFAscUJBVEYsRUFxQkQ7QUFDSUcsK0JBQU07QUFDRkMsd0NBQVcsQ0FEVDtBQUVGSCx1Q0FBVUMsTUFGUjs7QUFJRkcsb0NBQU8sQ0FBQyxHQUFELEVBQUssR0FBTCxFQUFTLEdBQVQsRUFBYSxHQUFiLENBSkw7QUFLRkMsa0NBQUssQ0FDRCxDQUNJLEVBQUNQLE1BQUssZ0JBQU4sRUFBdUJDLFVBQVMsQ0FBaEMsRUFESixFQUVJLEVBQUNELE1BQUtWLFNBQVNvQixRQUFmLEVBQXdCVCxVQUFTLENBQWpDLEVBRkosRUFHSSxFQUFDRCxNQUFLLGdCQUFOLEVBQXVCQyxVQUFTLENBQWhDLEVBSEosRUFJSSxFQUFDRCxNQUFLVixTQUFTb0IsUUFBZixFQUF3QlQsVUFBUyxDQUFqQyxFQUpKLENBREMsRUFPRCxDQUNJLEVBQUNELE1BQUssU0FBTixFQUFnQkMsVUFBUyxDQUF6QixFQURKLEVBRUksRUFBQ0QsTUFBS1YsU0FBU3FCLEtBQVQsQ0FBZUMsT0FBckIsRUFBNkJYLFVBQVMsQ0FBdEMsRUFGSixFQUdJLEVBQUNELE1BQUssaUJBQU4sRUFBd0JDLFVBQVMsQ0FBakMsRUFISixFQUlJLEVBQUNELE1BQUtWLFNBQVNtQixPQUFmLEVBQXVCUixVQUFTLENBQWhDLEVBSkosQ0FQQztBQUxIO0FBRFYscUJBckJDLEVBNENEO0FBQ0lGLCtCQUFNLENBQ0YsRUFBQ0MsTUFBSyxlQUFOLEVBQXNCQyxVQUFTLENBQS9CLEVBQWlDN0MsTUFBSyxJQUF0QyxFQURFO0FBRFYscUJBNUNDO0FBSE8saUJBQXBCOztBQTZEQSxvQkFBSXlELFNBQVNoRCxRQUFRaUQsb0JBQVIsQ0FBNkJuQixhQUE3QixDQUFiO0FBQ0FrQix1QkFBT0UsSUFBUCxDQUFZakQsR0FBR2tELGlCQUFILENBQXFCMUIsU0FBUzJCLEVBQVQsR0FBWSxnQkFBakMsQ0FBWjtBQUNBSix1QkFBT0ssR0FBUDtBQUNILGFBbEVNLENBQVA7QUFvRUg7Ozt5Q0FDZSxDQUdmOzs7dUNBRWNDLFcsRUFBYUMsUyxFQUFVO0FBQ2xDLG1CQUFjLEVBQUVwQixNQUFNLGNBQWNtQixZQUFZRSxRQUFaLEVBQWQsR0FBdUMsR0FBdkMsR0FBNkNELFNBQXJELEVBQWdFbEIsV0FBVyxPQUEzRSxFQUFvRm9CLFFBQU8sQ0FBQyxFQUFELEVBQUksRUFBSixDQUEzRixFQUFkO0FBRUwiLCJmaWxlIjoiVXRpbC9GbGlnaHRMb2FkU2hlZXQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZm9udHMgPSB7XG4gICAgQ291cmllcjoge1xuICAgICAgbm9ybWFsOiAnQ291cmllcicsXG4gICAgICBib2xkOiAnQ291cmllci1Cb2xkJyxcbiAgICAgIGl0YWxpY3M6ICdDb3VyaWVyLU9ibGlxdWUnLFxuICAgICAgYm9sZGl0YWxpY3M6ICdDb3VyaWVyLUJvbGRPYmxpcXVlJ1xuICAgIH0sXG4gICAgSGVsdmV0aWNhOiB7XG4gICAgICBub3JtYWw6ICdIZWx2ZXRpY2EnLFxuICAgICAgYm9sZDogJ0hlbHZldGljYS1Cb2xkJyxcbiAgICAgIGl0YWxpY3M6ICdIZWx2ZXRpY2EtT2JsaXF1ZScsXG4gICAgICBib2xkaXRhbGljczogJ0hlbHZldGljYS1Cb2xkT2JsaXF1ZSdcbiAgICB9LFxuICAgIFRpbWVzOiB7XG4gICAgICBub3JtYWw6ICdUaW1lcy1Sb21hbicsXG4gICAgICBib2xkOiAnVGltZXMtQm9sZCcsXG4gICAgICBpdGFsaWNzOiAnVGltZXMtSXRhbGljJyxcbiAgICAgIGJvbGRpdGFsaWNzOiAnVGltZXMtQm9sZEl0YWxpYydcbiAgICB9LFxuICAgIFN5bWJvbDoge1xuICAgICAgbm9ybWFsOiAnU3ltYm9sJ1xuICAgIH0sXG4gICAgWmFwZkRpbmdiYXRzOiB7XG4gICAgICBub3JtYWw6ICdaYXBmRGluZ2JhdHMnXG4gICAgfVxuICB9O1xuIHZhciBQZGZQcmludGVyID0gcmVxdWlyZSgncGRmbWFrZScpO1xuICB2YXIgcHJpbnRlciA9IG5ldyBQZGZQcmludGVyKGZvbnRzKTtcbiAgdmFyIGZzID0gcmVxdWlyZSgnZnMnKTtcbiAgdmFyIGJ3aXBqcyA9IHJlcXVpcmUoJ2J3aXAtanMnKVxuICBOdW1iZXIucHJvdG90eXBlLmZvcm1hdE1vbmV5ID0gZnVuY3Rpb24gKGMsIGQsIHQpIHtcbiAgICB2YXIgbiA9IHRoaXMsXG4gICAgICAgIGMgPSBpc05hTihjID0gTWF0aC5hYnMoYykpID8gMiA6IGMsXG4gICAgICAgIGQgPSBkID09IHVuZGVmaW5lZCA/IFwiLlwiIDogZCxcbiAgICAgICAgdCA9IHQgPT0gdW5kZWZpbmVkID8gXCIsXCIgOiB0LFxuICAgICAgICBzID0gbiA8IDAgPyBcIi1cIiA6IFwiXCIsXG4gICAgICAgIGkgPSBTdHJpbmcocGFyc2VJbnQobiA9IE1hdGguYWJzKE51bWJlcihuKSB8fCAwKS50b0ZpeGVkKGMpKSksXG4gICAgICAgIGogPSAoaiA9IGkubGVuZ3RoKSA+IDMgPyBqICUgMyA6IDA7XG4gICAgcmV0dXJuIFwiXCIgKyBzICsgKGogPyBpLnN1YnN0cigwLCBqKSArIHQgOiBcIlwiKSArIGkuc3Vic3RyKGopLnJlcGxhY2UoLyhcXGR7M30pKD89XFxkKS9nLCBcIjFcIiArIHQpICsgKGMgPyBkICsgTWF0aC5hYnMobiAtIGkpLnRvRml4ZWQoYykuc2xpY2UoMikgOiBcIlwiKTtcbn07XG5leHBvcnQgY2xhc3MgRmxpZ2h0TG9hZFNoZWV0e1xuICAgIGNvbnN0cnVjdG9yKCl7XG5cbiAgICB9XG5cbiAgICBnZW5lcmF0ZU1hbmlmZXN0TG9hZFNoZWV0KG1hbmlmZXN0KXtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCk9PntcbiAgICAgICAgICAgIHZhciBzcnYgPSB0aGlzOyBcbiAgICAgICAgICAgIHZhciBkb2NEZWZpbml0aW9uID0geyBcbiAgICAgICAgICAgICAgICBmb290ZXI6IHNydi5nZW5lcmF0ZUZvb3RlcigpLFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjayA6W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGV4dDpcIk5JTkUgVE8gRklWRSBJTVBPUlQgRVhQT1JUXCIsYm9sZDp0cnVlLGZvbnRTaXplOjExLGFsaWdubWVudDpjZW50ZXJ9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGV4dDpcIjE4MTEgTi5XLiA1MSBTdHJlZXQgSGFuZ2VyIDQyIERcIixib2xkOnRydWUsZm9udFNpemU6OSxhbGlnbm1lbnQ6Y2VudGVyfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RleHQ6XCJGdC4gTGF1ZGVyYWxlLCBGbG9yaWRhIDMzMzA5XCIsYm9sZDp0cnVlLGZvbnRTaXplOjksYWxpZ25tZW50OmNlbnRlcn0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0ZXh0OlwiRkxJR0hUIExPQUQgU0hFRVRcIixib2xkOnRydWUsZm9udFNpemU6MTEsYWxpZ25tZW50OmNlbnRlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlOntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyUm93czowLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbm1lbnQ6Y2VudGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGhzOlsnKicsJyonXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTpbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbe3RleHQ6XCJGb3IgU2hpcG1lbnRcIixmb250U2l6ZTo5fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0ZXh0Om1haW5mZXN0LnRhaWxOdW0sZm9udFNpemU6OX1dXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlOntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyUm93czowLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbm1lbnQ6Y2VudGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGhzOlsnKicsJyonLCcqJywnKiddLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OltcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGV4dDonRGVwYXJ0dXJlIERhdGUnLGZvbnRTaXplOjh9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0ZXh0Om1hbmlmZXN0LnNoaXBEYXRlLGZvbnRTaXplOjh9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0ZXh0OidEZXBhcnR1cmUgVGltZScsZm9udFNpemU6OH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RleHQ6bWFuaWZlc3Quc2hpcERhdGUsZm9udFNpemU6OH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0ZXh0OidDYXJyaWVyJyxmb250U2l6ZTo4fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGV4dDptYW5pZmVzdC5wbGFuZS5jb21wYW55LGZvbnRTaXplOjh9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0ZXh0OidBaXJsaW5lIEZsaWdodCMnLGZvbnRTaXplOjh9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0ZXh0Om1hbmlmZXN0LnRhaWxOdW0sZm9udFNpemU6OH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjazpbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0ZXh0OlwiRmxpZ2h0IE5vdGVzOlwiLGZvbnRTaXplOjksYm9sZDp0cnVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9OyBcbiAgICAgICAgICBcbiAgICBcbiAgICAgICAgICAgIHZhciBwZGZEb2MgPSBwcmludGVyLmNyZWF0ZVBkZktpdERvY3VtZW50KGRvY0RlZmluaXRpb24pO1xuICAgICAgICAgICAgcGRmRG9jLnBpcGUoZnMuY3JlYXRlV3JpdGVTdHJlYW0obWFuaWZlc3QuaWQrJy1sb2FkLWhlZXQucGRmJykpO1xuICAgICAgICAgICAgcGRmRG9jLmVuZCgpO1xuICAgICAgICB9KVxuICAgIFxuICAgIH1cbiAgICBnZW5lcmF0ZUhlYWRlcigpe1xuICAgICAgXG4gICAgICAgXG4gICAgfVxuICAgXG4gICAgZ2VuZXJhdGVGb290ZXIoY3VycmVudFBhZ2UsIHBhZ2VDb3VudCl7XG4gICAgICAgIHJldHVybiAgICAgICAgeyB0ZXh0OiBcIlBhZ2UgTm86IFwiICsgY3VycmVudFBhZ2UudG9TdHJpbmcoKSArICcvJyArIHBhZ2VDb3VudCwgYWxpZ25tZW50OiAncmlnaHQnLCBtYXJnaW46WzUwLDEwXSB9XG4gICAgICAgICAgICAgICAgICAgICBcbiAgfVxufSJdfQ==
